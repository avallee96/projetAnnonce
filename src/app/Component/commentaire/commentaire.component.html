<h1 class="text-center">commentaire de l'annonce {{id}}</h1>


<table class="table table-striped table-dark table-bordered">
    <tr >
        <td>id</td>
        <td>titre</td>
        <td>description</td>
        <td>image</td>
        <td>date d'expiration</td>
        <td>date de publication</td>
        <td>categorie</td>
        <td>utilisateur</td>
    </tr>
    <tr>
        <td>{{annonce.id}}</td>
        <td>{{annonce.titre}}</td>
        <td>{{annonce.description}}</td>
        <td *ngIf="annonce.photo">
          <button type="button" class="but-img btn btn-primary " data-toggle="modal">
            <img class="img-thumbnail" src="/{{annonce.photo}}">
          </button>
        </td>
        <td *ngIf="!annonce.photo">pas de photo</td>
        <td>{{annonce.date_exp}}</td>
        <td>{{annonce.date_pub}}</td>
        <td>{{annonce.categorie.nom}}</td>
        <td>{{annonce.utilisateur.username}}</td>
</table>


<form (ngSubmit)="ajout()">
    <fieldset>
        <legend>ajout d'un commentaire</legend>
        <div class="form-group row">
            <label for="commentaire" class="col-sm-2 col-form-label">commentaire</label>
            <div class="col-sm-10">
              <input type="text" name="commenataire" class="form-control" id="commentaire" [(ngModel)]="commentaire.commentaire" placeholder="mettre un commentaire">
            </div>
        </div>
        <input class="btn btn-primary btn-lg btn-block" type="submit" value="valider">
    </fieldset>
    <!--<p class="text-center">{{message}}</p>-->
</form>

<table class="table table-striped table-dark table-bordered">
    <tr >
        <td>id</td>
        <td>commentaire</td>
		<td>nom de l'utilisateur</td>
		<td>date du commentaire</td>
    </tr>
    <tr *ngFor="let com of commentaires">
        <td>{{com.id}}</td>
        <td>{{com.commentaire}}</td>
        <td>{{com.utilisateur.username}}</td>
        <td>{{com.date_com}}</td>
        <td><button (click)="supprimer(com.id)" class="btn btn-primary">supprimer n°{{com.id}}</button></td>
        <td><button (click)="modifier(com.id)" class="btn btn-primary">modifier n°{{com.id}}</button></td>
    </tr>
</table>
